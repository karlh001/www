<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="generator" content="Zim 0.74.3">
    <meta name="Zim template" content="HGE Bootstrap responsive template" />
    <meta name="template author" content="Hugo Gaibor E.">
    <meta name="Author" content="Karl Hunter">
    

    <title>Tuesday 26 Mar 2024</title>

    <!-- JS Jquery and Bootstrap scripts -->
	<script src=" https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js "></script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


    <!-- Bootstrap core CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


    <!-- highlight module
         Syntax highlinting libraries 
         Taken from https://highlightjs.org/ 
         https://github.com/highlightjs/highlight.js
         You can change higlight code box style by choosing a different css style below, 
         all styles were included for ease of customization
      -->
      <link rel="stylesheet" href="../../../_resources/highlight/styles/base16/github.min.css">
      <script src="../../../_resources/highlight/highlight.min.js"></script>

    <!-- HGE styles and JS functions for this template -->
      <link href="../../../_resources/css/hge-bootstrap_common.css" rel="stylesheet">
      <script src="../../../_resources/js/hge-bootstrap_common.js"></script>
      <script src="../../../_resources/js/hge-bootstrap_multi-page.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-1 justify-content upper-nav-bar">
      <div class="btn-toolbar" role="toolbar" aria-label="Button groups">
        <div class="btn-group mr-2" role="group" aria-label="First group">
          <span class="text-white">
            <img id="toggleSideMenu" class="pt-0 p-0 px-0 btn" src="../../../_resources/images/menu.svg" height="22" alt="Menu">
          </span>
        </div>
      </div>
      <div class="btn-toolbar" role="toolbar" aria-label="Button groups">
        <div class="btn-group mr-2" role="group" aria-label="Navigation group">
              <button type="button" class="btn btn-info btn-xs" role="button" onclick="location.href='./16.html'">Prev</button>
  
              <button type="button" class="btn btn-info btn-xs" role="button" onclick="location.href='../../../map.html'">Index</button>

              <button type="button" class="btn btn-info btn-xs" role="button" onclick="location.href='../../Index.html'">Next</button>
        </div>
      </div>
      <div>
        <div class="btn-group mr-2" role="group" aria-label="Fifth group">
          <button class="btn btn-warning btn-xs" id="scrollUp" onclick="scrollToTop();" style="display: none;"><span style="font-weight: 500;">Scroll Up</span></button>
        </div>
        <div class="btn-group mr-2" role="group" aria-label="Fifth group">
          <button class="btn btn-success btn-xs pt-0 p-0 px-0" id="printMe" >
              <img id="printImg"  class="pt-0 p-0 px-1" style="padding:2px;" onclick="window.print();" src="../../../_resources/images/printer.svg" alt="Print">
          </button>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
          <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar d-print-none" id="sidebarMenuNav" style="padding-top: 40px;">
          <div id="sidebarMenu">
            <ul>
<li><a href="../../../About.html" title="About" class="page">About</a></li>
<li><a href="../../../Buy_Me_Coffee.html" title="Buy Me Coffee" class="page">Buy Me Coffee</a></li>
<li><a href="../../../Computing.html" title="Computing" class="page">Computing</a></li>
<li><a href="../../../Contact.html" title="Contact" class="page">Contact</a></li>
<li><a href="../../../Home.html" title="Home" class="page">Home</a></li>
<li><a href="../../../Journal.html" title="Journal" class="page">Journal</a>
<ul>
<li><a href="../../2022.html" title="2022" class="page">2022</a></li>
<li><a href="../../2023.html" title="2023" class="page">2023</a></li>
<li><a href="../../2024.html" title="2024" class="page">2024</a>
<ul>
<li><a href="../01.html" title="01" class="page">01</a></li>
<li><a href="../02.html" title="02" class="page">02</a></li>
<li><a href="../03.html" title="03" class="page">03</a>
<ul>
<li><a href="./08.html" title="08" class="page">08</a></li>
<li><a href="./16.html" title="16" class="page">16</a></li>
<li><b>26</b></li>
</ul></li>
</ul>
</li>
<li><a href="../../Index.html" title="Index" class="page">Index</a></li>
</ul>
</li>
<li><a href="../../../Money.html" title="Money" class="page">Money</a></li>
<li><a href="../../../Projects.html" title="Projects" class="page">Projects</a></li>
</ul>

          </div>
        </nav>

        <main role="main" class="col-md-9 col-lg-10 ml-sm-auto pt-3 px-4" id="pageContents">
            <noscript>
              <div style="padding: 10px">
                <span style="color:#D48D8D">
                <p>Javascript is not enabled</p>
                <p>Most features won't</p>
                <p>work correctly</p>
                <p>Please enable javascript</p></span>
              </div>
            </noscript>

                <h1>Tuesday 26 Mar 2024<a name='Tuesday 26 Mar 2024_1_1' class="offset-anchor"></a></h1>
              
<hr>


                <h2>ZFS Checkpoints<a name='ZFS Checkpoints_1_2' class="offset-anchor"></a></h2>
              <p>
<img src="./26/data-2764823_640.jpg"><br>
Image <a href="https://pixabay.com/illustrations/data-data-loss-missing-data-process-2764823/" title="copyright" class="https">copyright</a>
</p>

<p>
I have heard about the checkpoint command (introudced in 2019) but did not research further. Essentially, it's a snapshot of the pool itself - at zpool level. So, for example, if you accidently delete a dataset you can restore.
</p>

<p>
If you have used the checkpoint command, you cannot use the following commands:
</p>

<p>
<ul>
<li>remove</li>
<li>attach</li>
<li>detach</li>
<li>split</li>
<li>reguid</li>
</ul>
</p>

<p>
I suppose it's a good thing to prevent accidental detachment or removal of devices from the pool.
</p>

<p>
Here's a screenshot of my latest checkpoint:
</p>

<p>
<img src="./26/pasted_image.png">
</p>

<p>
Create a checkpoint:
</p>

<p>
<tt>zpool checkpoint pool</tt>
</p>

<p>
<i>Where pool is the name of the pool.</i>
</p>

<p>
If you wish to remove a checkpoint, use:
</p>

<p>
<tt>zpool checkpoint -d pool</tt>
</p>

<p>
This pool stores my pictures, documents and media. So, quite important. As always, this pool is backed up both on an external hard drive and on <a href="../02/29.html" title="IDrive" class="page">IDrive</a> and <a href="../../2023/09/23.html" title="AWS S3" class="page">AWS S3</a>. Checkpoint feature will help save me from human error, especially as my second pool (<a href="./16.html" title="WD Green drive" class="page">WD Green drive</a>) failed. 
</p>


            
            <span class="backlinks">
                <hr class='footnotes'>
                <b>Backlinks:</b>
                <br />
                <a href='../../../Home.html'>Home</a>
                
<br />
                <a href='../../Index.html'>Journal:Index</a>
                
<br />
                <a href='../03.html'>Journal:2024:03</a>
                
            </span>

            

        </main>
      </div>
    </div>
  </body>
</html>
